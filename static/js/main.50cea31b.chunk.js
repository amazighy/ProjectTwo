(this["webpackJsonp15-stacked-area-chart"]=this["webpackJsonp15-stacked-area-chart"]||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/stackData.be06f672.csv"},28:function(e,t,a){e.exports=a.p+"static/media/baData.9911f9f4.csv"},66:function(e,t,a){e.exports=a(74)},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=a.n(c),u=(a(71),a(17)),o=a(11),l=a(2),s=a(1),f=a(26),m=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new f.a((function(e){e.forEach((function(e){c(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),r};var b=function(e){var t=e.data,a=Object(n.useRef)(),c=Object(n.useRef)(),i=m(c);return Object(n.useEffect)((function(){var e=Object(s.k)(a.current),n=i||a.current.getBoundingClientRect(),r=n.width,c=n.height,u=Object(s.h)().paddingInner(.1).domain(t.map((function(e,t){return t}))).range([0,c]),o=Object(s.i)().domain([0,Object(s.g)(t,(function(e){return e.value}))]).range([0,r]);e.selectAll(".bar").data(t,(function(e,t){return e.name})).join((function(e){return e.append("rect").attr("y",(function(e,t){return u(t)}))})).attr("fill",(function(e){return e.color})).attr("class","bar").attr("x",0).attr("height",u.bandwidth()).transition().attr("width",(function(e){return o(e.value)})).attr("y",(function(e,t){return u(t)})),e.selectAll(".label").data(t,(function(e,t){return e.name})).join((function(e){return e.append("text").attr("y",(function(e,t){return u(t)+u.bandwidth()/2+5}))})).text((function(e){return" ".concat(e.Code,"  \xa0\xa0 ").concat(Math.round(e.value/1e6)," M")})).attr("class","label").attr("x",10).transition().attr("y",(function(e,t){return u(t)+u.bandwidth()/2+5}))}),[t,i]),r.a.createElement("div",{className:"raceDiv",ref:c,style:{marginBottom:"2rem"}},r.a.createElement("svg",{className:"raceChart",ref:a}))};var d=function(e){var t=e.data,a=e.keys,c=e.colors,i=Object(n.useRef)(),u=Object(n.useRef)(),o=m(u);return Object(n.useEffect)((function(){var e=Object(s.k)(i.current),n=o||u.current.getBoundingClientRect(),r=n.width,l=n.height,f=Object(s.l)().keys(a).order(s.m)(t),m=[0,Object(s.g)(f,(function(e){return Object(s.g)(e,(function(e){return e[1]}))}))],b=Object(s.j)().domain(t.map((function(e){return e.year}))).range([0,r]),d=Object(s.i)().domain(m).range([l,0]),j=Object(s.a)().x((function(e){return b(e.data.year)})).y0((function(e){return d(e[0])})).y1((function(e){return d(e[1])})).curve(s.e);e.selectAll(".layer").data(f).join("path").attr("class","layer").attr("fill",(function(e){return c[e.key]})).attr("d",j);var O=Object(s.c)(d).tickFormat(Object(s.f)(".2s"));e.select(".y-axis").call(O).selectAll(".domain, .tick line").remove()}),[c,t,o,a]),r.a.createElement("div",{className:"AreaDiv",ref:u,style:{marginBottom:"2rem"}},r.a.createElement("svg",{className:"AreaChart",ref:i},r.a.createElement("g",{className:"x-axis"}),r.a.createElement("g",{className:"y-axis"})))};var j=function(e){var t=e.data,a=e.keys,c=e.colors,i=Object(n.useRef)(),u=Object(n.useRef)(),o=m(u);return Object(n.useEffect)((function(){var e=Object(s.k)(i.current),n=o||u.current.getBoundingClientRect(),r=n.width,l=n.height,f=Object(s.l)().keys(a).order(s.m)(t),m=[0,Object(s.g)(f,(function(e){return Object(s.g)(e,(function(e){return e[1]}))}))],b=Object(s.h)().domain(t.map((function(e){return e.year}))).range([0,r]).padding(.25).paddingOuter(0),d=Object(s.i)().domain(m).range([l,0]);e.selectAll(".layer").data(f).join("g").attr("class","layer").attr("fill",(function(e){return c[e.key]})).selectAll("rect").data((function(e){return e})).join("rect").attr("x",(function(e){return b(e.data.year)})).attr("width",b.bandwidth()).attr("y",(function(e){return d(e[1])})).attr("height",(function(e){return d(e[0])-d(e[1])}));var j=Object(s.b)(b);e.select(".x-axis").attr("transform","translate(0, ".concat(l,")")).call(j).selectAll(".domain, .tick line").remove();var O=Object(s.c)(d).tickFormat(Object(s.f)(".2s")).tickSize(-r);e.select(".y-axis").call(O).selectAll(".domain").remove()}),[c,t,o,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"AreaDiv",ref:u,style:{marginBottom:"2rem"}},r.a.createElement("svg",{className:"AreaChart",ref:i},r.a.createElement("g",{className:"x-axis"}),r.a.createElement("g",{className:"y-axis"}))))};var O=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])},h=a(27),v=a.n(h),g=a(28),E=a.n(g),y=(a(73),{"North America":"#131F2C","Latin America":"#086D8C","M-East & N-Africa":"#34A195","S-Saha Africa":"#F2EA0F","South Asia":"#FC1F71","European Union":"#ED4E3B","OECD members":"#C6AC7D","United States":"#85BB7E",Brazil:"#D04168","United Kingdom":"#660E10",China:"#B5BBED",India:"#0CCDED"}),k=[];for(var p in y)k.push(p);var A=function(){var e=Object(n.useState)(2e3),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),f=Object(l.a)(i,2),m=f[0],h=f[1],g=Object(n.useState)(k),p=Object(l.a)(g,2),A=p[0],x=p[1],C=Object(n.useState)([]),N=Object(l.a)(C,2),S=N[0],B=N[1],D=Object(n.useState)([]),w=Object(l.a)(D,2),R=w[0],F=w[1],I=Object(n.useState)([]),M=Object(l.a)(I,2),U=M[0],z=M[1];return Object(n.useEffect)((function(){Promise.all([Object(s.d)(v.a),Object(s.d)(E.a)]).then((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];n.forEach((function(e){e.year=+e.year})),B(a),z(n),n.sort((function(e,t){return t.value-e.value})),console.log(n);var r=Object(o.a)(n).filter((function(e){return 2017===e.year}));F(r)})).catch((function(e){throw e}))}),[]),O((function(){if(m)if(console.log(a),2017===a)c(2e3);else{var e=Object(o.a)(U).filter((function(e){return e.year===a}));F(e),c(a+1)}}),1e3),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Annual total CO\u2082 emissions, by country, 2000 to 2017"),r.a.createElement(b,{data:R}),r.a.createElement("p",{className:"iteration"}," ",a),r.a.createElement("button",{className:"butRace",onClick:function(){return h(!m)}},m?"Stop Animation":"Start Animation!"),r.a.createElement("h3",null,"Annual total CO\u2082 emissions, reagion, 2000 to 2017 "),r.a.createElement("div",{className:"fields"},k.map((function(e){var t;return r.a.createElement("label",{key:e,className:"container"},r.a.createElement("input",(t={id:e,type:"checkbox",checked:"checked"},Object(u.a)(t,"checked",A.includes(e)),Object(u.a)(t,"onChange",(function(t){t.target.checked?x(Array.from(new Set([].concat(Object(o.a)(A),[e])))):x(A.filter((function(t){return t!==e})))})),t)),r.a.createElement("span",{className:"checkmark",htmlFor:e,style:{background:y[e]}}),r.a.createElement("div",{className:"text-names"},e))}))),r.a.createElement(d,{data:S,keys:A,colors:y}),r.a.createElement(j,{data:S,keys:A,colors:y}),r.a.createElement("h5",null,"Data Sources: World Bank Development Indicators"))};i.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.50cea31b.chunk.js.map